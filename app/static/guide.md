# 模拟经济

---
## 背景目标
内容就是模拟社会经济运行。不同的人有不同的目标。
- 拥有尽可能多的钱，什么都能买，可以看作是**财富自由**。
- 在财富自由之后，获得了**权力和责任**。
  - 可以有权操控市场，抬高物价，获得游戏的专制。
  - 也可以维持物价的动荡，以至保持繁荣
- 可能会有虚无主义者参加，对金钱、权力责任、成就没有兴趣，或者对游戏非真实的无趣性。
考虑到，人最基本的是亲情，我尝试赋予一些**亲情、精神**的概念。
  - 我们可以看到一些游戏上的伟大事件，正是他们维护了游戏的持续性。
  - 或者我们可以让自己内容销毁，正如灭亡，传承给以后的玩家


---
## 经济模型
### 游戏角色分类
政府：
- 超级玩家角色。
- 接受系统政策输入，比如发行货币。
- 战略储备：经济最基本的电、水、货币
- 公开采购订单。？？ 现在还不需要
  - 与交易所不同的是，？
- 其他正常操作

超级巨头：
- 是玩家最终的归宿。 成为垄断者。
- 我们要进行一系列反垄断的规定。

普通生产者： 
- 目的：稳定现金流，不亏。
- 不积压库存。
- 出售价格随市场价
- 如果成本高于24h均价，就停止生产。
- 如果均价持续上涨，那么就加速生产。

套利者：
- 在目前单一市场单一商品而言，在买卖差价过大的时候，可以插入自己的限价单子。
- 差价大于手续费即可套利

投机者：
- 根据宏观信号，通过对未来的期望进行买卖
- 如在1h市场热情高涨，那就会追涨买入

做市商


### 成本

1. 生产资源 
- 生产资源的原料成本 
- 建筑使用成本/hr。
2. 建筑建造成本

---
### 各种场景
1. 在只有生产者和套利者的情况下，价格持续走低。 
只有生产性消费的情况下，物资一定会过剩。 需要通过**非生产性消费**，获取房子/奢侈/成就 东西。
最终生产过剩，一定由系统/政府订单消耗。 

---
## 游戏事件
- 2026-01-30: 电、水、土、房 bot环境下，在浮动最小0.001策略下， 由于大量低价卖单存在，导致市场价格持续走低
- 2026-01-31: 明显的展示了，挂单深度不同比值下，供大于求 价格下降， 供小于求，价格上涨
  - 如果想要价格上涨，减少供给 增大需求。
  - 如果想要价格下跌，增大供给，减少需求
---
## 数值说明
[数值设计文档](https://1drv.ms/x/c/4815194bdfbb971c/IQDXaB9j9msvR6GNkZiDViubAemB6s9Cp2Bc0O29wHNMKA4?e=MCoAl6
)
### 名词
- 交易量：Volume 交易数量。 
- 交易额：Turnover 交易总额
### cpi指数：加权累和物价指数
$$
cpi = \frac{\sum_{资源}(\frac{当前价格}{基础价格} * 基础权重)}{\sum{基础权重}}
$$
cpi表示对比过去，我们现在要多花多少钱。
- cpi=100: 物价很稳定
- cpi>105: 物价上涨。出现通货膨胀。资源稀缺
- cpi<95: 物价收缩。资源过剩

cpi周期，可以为一周、一天等

### 单项商品价格指数

$$
i = \frac{现在价格}{基础价格}
$$

### 利润控制：
- 基础毛利率30%-90%
- 越高端行业意味更高的毛利率，但也意味着更高风险、高门槛。通过这几点防止全部人涌入高端行业：
  - 建筑昂贵（固定）
  - 市场自动供需
  - 对下层原料敏感，波动范围大

### 基尼指数：
$$
gini = \frac{1}{2 n^2 \bar{y} } \sum_{i=1}^{n}\sum_{j=1}^{n}\lvert{y_i - y_j}\rvert
$$
- 计算所有人两两之间资产差距的总和，然后平均
- 描述财富差距。
- 超过0.5，就贫富差距大了。考虑一些方式将富人的钱流向穷人
- 指数范围： 
  - 0.0	绝对平均	理想状态，但游戏缺乏动力。 
  - 0.2 - 0.4	健康稳定	存在竞争，但差距不大。 
  - 0.4 - 0.6	差距较大	经济活跃，但需警惕。 
  - 0.6	贫富悬殊	核心预警。大量底层玩家可能破产流失，高端行业面临需求枯竭风险。 
  - 1.0	极度不均	只有一个人拥有所有财富。


### 货币流转速率
$$
货币供应量M1 * 货币流转速率v = 物价水平CPI * 交易量 = 交易总量
$$
- 表示一块钱在这个时间内流通了几次
- 如24h流转速率，交易总量1000万，M1位400万，v=2.5。


### 资源市场流动评分：
$$
Score_{流动评分} = Score_{市场共识}(n) + Score_{交易活跃度}(\sigma)
$$
- n: 周期内成交笔数
- $\sigma$: 买卖价差率。 $\sigma = \frac{P_{ask} - P_{bid}}{P_{ask}}$
$$
Score_{市场共识}(n) = min(60, 2n) 
$$
$$
\begin{equation}
Score_{交易活跃度}(\sigma) = \begin{cases}
40, & \text{if } \sigma < 0.01 \\
20, & \text{if } 0.01 \leq \sigma < 0.05 \\
10, & \text{if } 0.05 \leq \sigma < 0.1 \\
0, & \text{if } \sigma \geq 0.1 或单边市场 \\
\end{cases}
\end{equation}
$$

- 资源在市场上变现的容易程度
  - 值比较低：手里大量货， 但是有价无市
  - 值比较高：套现块
- 值在 0-100
  - 换手频率：24h成交总量占到总库存比例 
  - 买卖价差：挂单中最低价和最高价差距
  - 挂单厚度：挂着的订单总量

## 游戏周期
> 快看，是飞星！

一方面，我们引入真实的混沌系统，这让经济系统添加更多随机性，尽量减少人为干预。
太阳的状态是一个有一个长达11年的周期，这对于游戏看来，可以视作一个混沌系统了。
- 不是伪随机数，他是真实宇宙变量
- 玩家不可预测

另一方面，引入每日/每周的周期系统。 地月是一个周期。27.5
我们通过地月距离描述

太阳会影响市场，月球会影响生产。 
太阳安静+月球近地：农业生产繁荣。
太阳活跃+月球近地：动荡繁荣。交易疯狂
太阳安静+月球远地：高价值商品生产繁荣
太阳活跃+月球原理：最恶劣。

周期性：
- 宇宙周期：27.5
- 政府周期：?
- 玩家周期：生产周期